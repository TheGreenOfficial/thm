## Challenge name: Basic Pentesting


<img width="1336" height="266" alt="image" src="https://github.com/user-attachments/assets/8e687a8e-bfdd-4781-b618-33319fbe72cb" />
<br>
<br>

``` Challenge Link:``` [https://tryhackme.com/room/basicpentestingjt](https://tryhackme.com/room/basicpentestingjt)
<br>
<br>

**Let's start by doing recon on target.**
<br><br>
**Port Scanning:** ``` nmap -p- -sSVC 10.48.172.191 -oN sr -v ```

```
PORT     STATE SERVICE     VERSION
22/tcp   open  ssh         OpenSSH 8.2p1 Ubuntu 4ubuntu0.13 (Ubuntu Linux; protocol 2.0)
| ssh-hostkey: 
|   3072 83:4a:54:aa:86:7e:56:64:c0:b7:22:1d:bc:13:c1:ba (RSA)
|   256 fd:8d:f9:a5:fa:4b:00:09:25:14:c6:48:bf:89:0b:ef (ECDSA)
|_  256 e6:05:97:1b:b0:87:51:df:d0:5b:ef:48:36:26:f1:0a (ED25519)
80/tcp   open  http        Apache httpd 2.4.41 ((Ubuntu))
|_http-title: Site doesn't have a title (text/html).
| http-methods: 
|_  Supported Methods: POST OPTIONS HEAD GET
|_http-server-header: Apache/2.4.41 (Ubuntu)
139/tcp  open  netbios-ssn Samba smbd 4
445/tcp  open  netbios-ssn Samba smbd 4
8009/tcp open  ajp13       Apache Jserv (Protocol v1.3)
| ajp-methods: 
|_  Supported methods: GET HEAD POST OPTIONS
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel

Host script results:
| smb2-time: 
|   date: 2026-01-30T19:55:41
|_  start_date: N/A
| nbstat: NetBIOS name: BASIC2, NetBIOS user: <unknown>, NetBIOS MAC: <unknown> (unknown)
| Names:
|   BASIC2<00>           Flags: <unique><active>
|   BASIC2<03>           Flags: <unique><active>
|   BASIC2<20>           Flags: <unique><active>
|   \x01\x02__MSBROWSE__\x02<01>  Flags: <group><active>
|   WORKGROUP<00>        Flags: <group><active>
|   WORKGROUP<1d>        Flags: <unique><active>
|_  WORKGROUP<1e>        Flags: <group><active>
|_clock-skew: 1s
| smb2-security-mode: 
|   3.1.1: 
|_    Message signing enabled but not required

```

**First of all we will be checking the web server port 80.**

<br>
<img width="1336" height="266" alt="image" src="https://github.com/user-attachments/assets/bbcab09f-1f39-42f9-bce3-c43117c61625" />
<br><br>
<img width="1336" height="266" alt="image" src="https://github.com/user-attachments/assets/dae14903-c5cd-4e3e-aef2-e8bc45765f43" />
<br>
<br>

**We can see something like default page of a web server and in source code comments its written that there is dev note session so lets try visiting /dev**

<br>
<img width="1336" height="266" alt="image" src="https://github.com/user-attachments/assets/309cd378-6d55-4a7c-8366-f2cbae316e1c" />
<br>
<br>

**But unfortunately it wasn't there and I visited /robots.txt but no info was there so I did directory bruteforce to see if there are some hidden portals.**

<br>
<img width="1346" height="641" alt="image" src="https://github.com/user-attachments/assets/1e64f258-7cfc-4070-93d6-8b52cc69943d" />
<br>
<br>

**We see developement portal which interests us the most and it maybe the dev note previously the developer was talking about.**

<br>
<img width="1273" height="330" alt="image" src="https://github.com/user-attachments/assets/e4f4d836-fed5-479e-b50b-46c1e3fcf4b1" />
<br>
<br>

**There are 2 txt files and there are its contents..**
<br><br>
**dev.txt:**

```

2018-04-23: I've been messing with that struts stuff, and it's pretty cool! I think it might be neat
to host that on this server too. Haven't made any real web apps yet, but I have tried that example
you get to show off how it works (and it's the REST version of the example!). Oh, and right now I'm 
using version 2.5.12, because other versions were giving me trouble. -K

2018-04-22: SMB has been configured. -K

2018-04-21: I got Apache set up. Will put in our content later. -J

```

**j.txt:**

```
For J:

I've been auditing the contents of /etc/shadow to make sure we don't have any weak credentials,
and I was able to crack your hash really easily. You know our password policy, so please follow
it? Change that password ASAP.

-K

```

**Alright we have gathered quite a lot information about port 80. Let's check on other services..**

<br>
<img width="1381" height="984" alt="image" src="https://github.com/user-attachments/assets/7263976a-ec16-4c31-b3cf-717613f837ab" />
<br>
<br>

**It seems to have apache tomcat default page of version: 9.0.7 and another thing we also have smb port open lets see if we can get any info form there using enum4linux..**

``` enum4linux -a 10.48.172.191 ```

<br>
<img width="1381" height="201" alt="image" src="https://github.com/user-attachments/assets/eaf5374c-3efd-4fac-85b3-aebb9e2389fd" />
<br>
<br>

**No interesting shares and other info but we got some usernames which we can use to bruteforce on ssh. Let's give it a try..**

``` hydra -l jan -P /usr/share/wordlists/rockyou.txt 10.48.172.191 ssh  ```

<br>
<img width="1381" height="445" alt="image" src="https://github.com/user-attachments/assets/7bfeda50-e4ae-4323-b08a-5650cc04c9cc" />
<br>
<br>

**Looks like we got a hit on ssh with user: jan & password: armando. Next step is to logging into ssh.**

<br>
<img width="1381" height="445" alt="image" src="https://github.com/user-attachments/assets/57c7d205-7096-4011-9c8c-a0e00a98b194" />
<br>
<br>

**There was pass.bak in kay's home directory so lets quickly visit that.**

<br>
<img width="1381" height="553" alt="image" src="https://github.com/user-attachments/assets/b1b5c54d-4591-4cd8-a767-53fc03bf143d" />
<br>
<br>

**In exitement I jsut forgot to see the permission's lol we are not permitted to view that..**

<br>
<img width="1381" height="597" alt="image" src="https://github.com/user-attachments/assets/e3ffe871-6c75-45a1-acaa-05914588b395" />
<br>
<br>

**My next move was to check bash history and so on but I noticed that we have read/write permission in direcotry .ssh if it has ssh key we can login as kay.**

<br>
<img width="1381" height="597" alt="image" src="https://github.com/user-attachments/assets/03204290-a5e4-4088-b52d-1ccf6c64681a" />
<br>
<br>

**We got the id_rsa directly so lets login to ssh as kay using the following ssh key:**

```
-----BEGIN RSA PRIVATE KEY-----
Proc-Type: 4,ENCRYPTED
DEK-Info: AES-128-CBC,6ABA7DE35CDB65070B92C1F760E2FE75

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
-----END RSA PRIVATE KEY-----
```

**Before connecting to ssh we have to change id_rsa file perm using:** ``` chmod 600 id_rsa ``` 

<br>
<img width="1381" height="249" alt="image" src="https://github.com/user-attachments/assets/e04101d2-15bb-4f8a-a13f-423689b1253c" />
<br>
<br>

**The id_rsa was password protected so we have to use john to crack it.**
<br><br>
**Commands:**

```
ssh2john id_rsa > pass.hash
john --wordlist=/usr/share/wordlists/rockyou.txt pass.hash
```

<br>
<img width="1381" height="438" alt="image" src="https://github.com/user-attachments/assets/14aacb07-e920-4f1d-9dec-2fc09cd246c5" />
<br>
<br>

**The password is cracked and and we got id_rda pass as "beeswax" so now finally lets login as kay..**

<br>
<img width="1381" height="317" alt="image" src="https://github.com/user-attachments/assets/f1498c50-0672-4f88-8960-a47ab1541ebf" />
<br>
<br>

**There is no need for PrivEsc in this challange and this "heresareallystrongpasswordthatfollowsthepasswordpolicy$$" was the only flag we had to find.**<br>
**Thankyou.**
